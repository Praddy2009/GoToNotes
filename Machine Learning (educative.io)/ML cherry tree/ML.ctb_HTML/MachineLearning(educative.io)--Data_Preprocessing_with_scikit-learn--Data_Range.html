<!doctype html><html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>Data Range</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles3.css" type="text/css" />
  
    <script type="text/javascript">
        function in_frame () { try { return window.self !== window.top; } catch (e) { return true; } }
        if (!in_frame()) {
            var page = location.pathname.substring(location.pathname.lastIndexOf("/") + 1);
            window.location = 'index.html#' + page;
        }
    </script>
</head>
<body><div class="page"><h1 class="title">Data Range</h1><br/><h3>Chapter Goals:</h3><br />   •  Learn how to compress data values to a specified range<br /><br /><strong>Range scaling</strong><br />Apart from standardizing data, we can also scale data by compressing it into a fixed range. One of the biggest use cases for this is compressing data into the range [0, 1]. This allows us to view the data in terms of proportions, or percentages, based on the minimum and maximum values in the data.<br /><br />The formula for scaling based on a range is a two-step process. For a given data value, <em>x</em>, we first compute the proportion of the value with respect to the min and max of the data <em>d</em><sub>min</sub> and <em>d</em><sub>max</sub>, respectively).<br /><br /><img src="images/16-1.png" alt="images/16-1.png" /><br /><br />The formula above computes the proportion of the data value, <em>x</em><sub>prop</sub>. Note that this only works if not all the data values are the same (i.e. <em>d</em><sub>max</sub> ≠ <em>d</em><sub>min</sub>).<br /><br />We then use the proportion of the value to scale to the specified range, [<em>r</em><sub>min</sub>, <em>r</em><sub>max</sub>]. The formula below calculates the new scaled value, <em>x</em><sub>scale</sub>.<br /><br /><img src="images/16-2.png" alt="images/16-2.png" /><br />~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~<br /><br /><strong>Range compression in scikit-learn</strong><br /><br />The scikit-learn library provides a variety of <em>transformers</em>, modules that perform transformations on data. While in the previous chapter we used a single function, <code>scale</code>, to perform the data standardization, the remaining chapters will focus on using these transformer modules.<br /><br />The <a href="https://scikit-learn.org/stable/modules/generated/sklearn.preprocessing.MinMaxScaler.html#sklearn.preprocessing.MinMaxScaler">MinMaxScaler</a> transformer performs the range compression using the previous formula. Specifically, it scales each feature (column) of the data to a given range (where the default range is [0, 1]).<br /><br />The code below shows how to use the <code>MinMaxScaler</code> (with the default range and a custom range).<br /><br />The <code>MinMaxScaler</code> object contains a function called <code>fit_transform</code>, which allows it to take in the input data array and then output the scaled data. The function is a combination of the object's <code>fit</code> and <code>transform</code> functions, where the former takes in an input data array and the latter transforms a (possibly different) array based on the data from the input to the <code>fit</code> function.<br /><br /><img src="images/16-3.png" alt="images/16-3.png" />   <img src="images/16-4.png" alt="images/16-4.png" /><br /><br />Now lets run the <code>fit</code> and <code>transform</code> functions separately and compare them with the<code>fit_transform</code> function. <code>fit</code> takes in an input data array and <code>transform</code> transforms a (possibly different) array based on the data from the input to the fit function.<br /><br /><img src="images/16-5.png" alt="images/16-5.png" />  <img src="images/16-6.png" alt="images/16-6.png" /><br /><br />The code above scales the <code>new_data</code> array to the range [0, 1], based on the (column-wise) minimum and maximum values from the <code>data</code> array in the original code example.<br /><br />~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~<br /><br /><img src="images/16-7.png" alt="images/16-7.png" /><br /><br /><br /></div></body></html>